<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/listViewWithoutHeaderTemplate.xhtml">
	
	<!-- <ui:param name="pageTitle" value="#{msg['referenceMgmt.title']}" /> -->
	<ui:param name="pageHeaderTitle"
		value="#{msg['referenceMgmt.title.listRefCode']}" />
	<ui:param name="emptyMessage"
		value="#{msg['referenceMgmt.msg.noRecords']}" />
	<ui:param name="addControlText"
		value="#{msg['referenceMgmt.tblNav.add']}" />
	<ui:param name="addOutcome" value="addRefCode" />
	<ui:param name="addAuthority"
		value="#{auth.checkAuthority('addRefCode')}" />
	<ui:param name="listController" value="#{referenceListController}" />
	
	<!-- ADD -->
	<ui:param name="selectionMode" value="single"/>
	<ui:param name="selection" value="#{referenceListController.selectedRecord}"/>
	<ui:define name="pageHeaderControls">
		<p:button id="btnAdd" value="#{addControlText}"
			outcome="#{addOutcome}" style="margin-left: 182px;"
			rendered="#{addAuthority}" />
	</ui:define>
	<!-- ADD END -->

	<ui:define name="dataTableContent">
		 <p:ajax event="rowDblselect"
			listener="#{referenceListController.listSelect}" />

		<p:column id="id" filterBy="#{record.refMasterCode}"
			headerText="#{msg['referenceMgmt.tblHeader.refMasterCode']}"
			sortBy="#{record.refMasterCode}">
			<h:outputText value="#{record.refMasterCode}" />
		</p:column>

		<p:column id="codeDesc" filterBy="#{record.codeDesc}"
			headerText="#{msg['referenceMgmt.tblHeader.codeDesc']}"
			sortBy="#{record.codeDesc}">
			<h:outputText value="#{record.codeDesc}" />
		</p:column>


		<p:column id="purpose" filterBy="#{record.purpose}"
			headerText="#{msg['referenceMgmt.tblHeader.purpose']}"
			sortBy="#{record.purpose}">
			<h:outputText value="#{record.purpose}" />
		</p:column>

		<p:column id="isValidText" filterBy="#{record.isValidText}"
			headerText="#{msg['referenceMgmt.tblHeader.isValid']}"
			sortBy="#{record.isValidText}">
			<h:outputText value="#{record.isValidText}" />
		</p:column>

		 <p:column id="authStatusText" filterBy="#{record.authStatusText}"
			headerText="#{msg['referenceMgmt.tblHeader.authorize']}"
			sortBy="#{record.authStatusText}">
			<h:outputText value="#{record.authStatusText}" /> 
		</p:column>
	</ui:define>
</ui:composition>